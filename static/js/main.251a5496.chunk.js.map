{"version":3,"sources":["components/MenuComponent.js","firebase.js","components/SingleTown.js","components/SwitchComponent.js","containers/StartView.js","components/SearchComponent.js","components/ResultsComponent.js","containers/ResultsView.js","components/DetailedTown.js","containers/DetailedView.js","containers/AuthView.js","containers/SearchView.js","containers/ProfileView.js","context/CityContext.js","App.js","serviceWorker.js","index.js"],"names":["MenuComponent","state","useContext","UserContext","useState","showMenu","setShowMenu","className","userData","exact","to","viewBox","xmlns","d","onClick","config","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","SingleTown","dispatch","city","setCity","mounted","useRef","api","process","useEffect","current","selectedCity","fetch","cities","name","then","response","json","result","realId","id","Object","keys","length","src","weather","icon","alt","height","width","description","Math","round","main","temp","feels_like","wind","speed","e","preventDefault","db","firestore","type","payload","index","collection","doc","uid","delete","SwitchComponent","map","key","setSelCity","StartView","style","display","flexDirection","alignItems","paddingTop","color","textAlign","margin","SearchComponent","history","useHistory","hrGradovi","gradoviZaSelect","setGradoviZaSelect","query","setQuery","underlay","setUnderlay","onSubmit","event","push","placeholder","onChange","target","value","toLowerCase","filter","grad","startsWith","sort","a","b","localeCompare","required","ResultsComponent","setWeather","useParams","trim","saveCityToFirestore","add","sys","country","temp_max","temp_min","pressure","humidity","contains","forEach","element","followButton","ResultsView","DetailedTown","dani","weatherReport","list","hour","date","Date","dt","title","getHours","getDate","getMonth","getFullYear","getDay","DetailedView","AuthView","proces","setProces","email","setEmail","password","setPassword","signInWithEmailAndPassword","createUserWithEmailAndPassword","SearchView","ProfileView","signOut","marginTop","reducer","action","setCities","saveCity","cityName","user","removeCity","cityToRemove","citiesData","data","createContext","App","useReducer","onAuthStateChanged","onSnapshot","snapshot","counter","basename","Provider","path","component","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.251a5496.chunk.js","sourcesContent":["import React, { useState, useContext } from \"react\";\r\nimport \"./MenuComponent.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { UserContext } from \"../App\";\r\n\r\nfunction MenuComponent() {\r\n  const { state } = useContext(UserContext);\r\n  const [showMenu, setShowMenu] = useState(false);\r\n\r\n  const toggleMenu = () => {\r\n    setShowMenu(!showMenu);\r\n  };\r\n\r\n  return (\r\n    <nav className={`menu-container ${showMenu ? \"menu-shown\" : \"\"}`}>\r\n      <div className=\"menu desktop\">\r\n        {state.userData && (\r\n          <NavLink exact to=\"/\" className=\"menu-item\">\r\n            <svg viewBox=\"0 1 511 511.999\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path d=\"m498.699219 222.695312c-.015625-.011718-.027344-.027343-.039063-.039062l-208.855468-208.847656c-8.902344-8.90625-20.738282-13.808594-33.328126-13.808594-12.589843 0-24.425781 4.902344-33.332031 13.808594l-208.746093 208.742187c-.070313.070313-.144532.144531-.210938.214844-18.28125 18.386719-18.25 48.21875.089844 66.558594 8.378906 8.382812 19.441406 13.234375 31.273437 13.746093.484375.046876.96875.070313 1.457031.070313h8.320313v153.695313c0 30.417968 24.75 55.164062 55.167969 55.164062h81.710937c8.285157 0 15-6.71875 15-15v-120.5c0-13.878906 11.292969-25.167969 25.171875-25.167969h48.195313c13.878906 0 25.167969 11.289063 25.167969 25.167969v120.5c0 8.28125 6.714843 15 15 15h81.710937c30.421875 0 55.167969-24.746094 55.167969-55.164062v-153.695313h7.71875c12.585937 0 24.421875-4.902344 33.332031-13.8125 18.359375-18.367187 18.367187-48.253906.027344-66.632813zm-21.242188 45.421876c-3.238281 3.238281-7.542969 5.023437-12.117187 5.023437h-22.71875c-8.285156 0-15 6.714844-15 15v168.695313c0 13.875-11.289063 25.164062-25.167969 25.164062h-66.710937v-105.5c0-30.417969-24.746094-55.167969-55.167969-55.167969h-48.195313c-30.421875 0-55.171875 24.75-55.171875 55.167969v105.5h-66.710937c-13.875 0-25.167969-11.289062-25.167969-25.164062v-168.695313c0-8.285156-6.714844-15-15-15h-22.328125c-.234375-.015625-.464844-.027344-.703125-.03125-4.46875-.078125-8.660156-1.851563-11.800781-4.996094-6.679688-6.679687-6.679688-17.550781 0-24.234375.003906 0 .003906-.003906.007812-.007812l.011719-.011719 208.847656-208.839844c3.234375-3.238281 7.535157-5.019531 12.113281-5.019531 4.574219 0 8.875 1.78125 12.113282 5.019531l208.800781 208.796875c.03125.03125.066406.0625.097656.09375 6.644531 6.691406 6.632813 17.539063-.03125 24.207032zm0 0\" />\r\n            </svg>\r\n            POČETNA\r\n          </NavLink>\r\n        )}\r\n        {state.userData && (\r\n          <NavLink to=\"/details\" className=\"menu-item\">\r\n            <svg\r\n              viewBox=\"0 0 492.924 492.924\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n            >\r\n              <path d=\"M405.825,0H188.709c-19.016,0.008-34.5,15.49-34.518,34.521v16.297h-16.303c-19.017,0.01-34.5,15.498-34.514,34.521v16.309\tH87.082c-19.029,0.006-34.494,15.482-34.514,34.522l0.02,322.238c-0.02,19.043,15.465,34.525,34.494,34.516h152.538\tc10.65,0,20.871-4.203,28.438-11.696l39.516-39.124h47.415c19.063,0.01,34.546-15.473,34.532-34.512v-16.314h16.303\tc19.048,0.008,34.53-15.477,34.512-34.508l0.019-322.248C440.336,15.482,424.873,0.008,405.825,0z M311.457,391.963h-39.962\tc-4.777,0-9.305,0.967-13.438,2.719c-12.382,5.248-21.079,17.529-21.093,31.811v0.01v0.022l0.014,39.137H87.082\tc-3.98,0-7.243-3.25-7.256-7.252V136.17c0-4,3.275-7.268,7.256-7.268l217.119,0.01c3.998,0,7.255,3.258,7.255,7.242V391.963z\t M362.264,407.592c-0.02,3.99-3.276,7.248-7.274,7.248h-19.497c1.148-1.226,3.24-3.777,3.24-9.225c0-67.361,0-269.445,0-269.445\tc-0.018-19.033-15.5-34.516-34.549-34.522H130.647V85.334c0-3.984,3.244-7.242,7.222-7.242l217.121-0.01\tc3.998,0,7.274,3.268,7.274,7.258V407.592z M413.084,356.77c-0.02,3.992-3.275,7.25-7.26,7.25h-16.303l0.014-278.68\tc-0.014-19.029-15.482-34.512-34.546-34.521H181.467V34.514c0-3.992,3.258-7.242,7.223-7.242l217.135-0.008\tc3.984,0,7.26,3.258,7.26,7.258V356.77z\" />\r\n            </svg>\r\n            5 DANA\r\n          </NavLink>\r\n        )}\r\n        <NavLink to=\"/search\" className=\"menu-item\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512.005 512.005\">\r\n            <path d=\"M505.749,475.587l-145.6-145.6c28.203-34.837,45.184-79.104,45.184-127.317c0-111.744-90.923-202.667-202.667-202.667\t\t\tS0,90.925,0,202.669s90.923,202.667,202.667,202.667c48.213,0,92.48-16.981,127.317-45.184l145.6,145.6\t\t\tc4.16,4.16,9.621,6.251,15.083,6.251s10.923-2.091,15.083-6.251C514.091,497.411,514.091,483.928,505.749,475.587z M202.667,362.669c-88.235,0-160-71.765-160-160s71.765-160,160-160s160,71.765,160,160S290.901,362.669,202.667,362.669z\" />\r\n          </svg>\r\n          TRAŽILICA\r\n        </NavLink>\r\n        {state.userData ? (\r\n          <NavLink to=\"/profile\" className=\"menu-item\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\r\n              <path d=\"M437.02,330.98c-27.883-27.882-61.071-48.523-97.281-61.018C378.521,243.251,404,198.548,404,148\t\t\tC404,66.393,337.607,0,256,0S108,66.393,108,148c0,50.548,25.479,95.251,64.262,121.962\t\t\tc-36.21,12.495-69.398,33.136-97.281,61.018C26.629,379.333,0,443.62,0,512h40c0-119.103,96.897-216,216-216s216,96.897,216,216\t\th40C512,443.62,485.371,379.333,437.02,330.98z M256,256c-59.551,0-108-48.448-108-108S196.449,40,256,40\tc59.551,0,108,48.448,108,108S315.551,256,256,256z\" />\r\n            </svg>\r\n            PROFIL\r\n          </NavLink>\r\n        ) : (\r\n          <NavLink to=\"/authorisation\" className=\"menu-item\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\r\n              <path d=\"M437.02,330.98c-27.883-27.882-61.071-48.523-97.281-61.018C378.521,243.251,404,198.548,404,148\t\t\tC404,66.393,337.607,0,256,0S108,66.393,108,148c0,50.548,25.479,95.251,64.262,121.962\t\t\tc-36.21,12.495-69.398,33.136-97.281,61.018C26.629,379.333,0,443.62,0,512h40c0-119.103,96.897-216,216-216s216,96.897,216,216\t\th40C512,443.62,485.371,379.333,437.02,330.98z M256,256c-59.551,0-108-48.448-108-108S196.449,40,256,40\tc59.551,0,108,48.448,108,108S315.551,256,256,256z\" />\r\n            </svg>\r\n            PRIJAVA\r\n          </NavLink>\r\n        )}\r\n      </div>\r\n      <div className=\"menu-icon mobile\" onClick={toggleMenu}>\r\n        <span></span>\r\n      </div>\r\n      <div className=\"menu mobile\">\r\n        {state.userData && (\r\n          <NavLink exact to=\"/\" className=\"menu-item\">\r\n            <svg viewBox=\"0 1 511 511.999\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path d=\"m498.699219 222.695312c-.015625-.011718-.027344-.027343-.039063-.039062l-208.855468-208.847656c-8.902344-8.90625-20.738282-13.808594-33.328126-13.808594-12.589843 0-24.425781 4.902344-33.332031 13.808594l-208.746093 208.742187c-.070313.070313-.144532.144531-.210938.214844-18.28125 18.386719-18.25 48.21875.089844 66.558594 8.378906 8.382812 19.441406 13.234375 31.273437 13.746093.484375.046876.96875.070313 1.457031.070313h8.320313v153.695313c0 30.417968 24.75 55.164062 55.167969 55.164062h81.710937c8.285157 0 15-6.71875 15-15v-120.5c0-13.878906 11.292969-25.167969 25.171875-25.167969h48.195313c13.878906 0 25.167969 11.289063 25.167969 25.167969v120.5c0 8.28125 6.714843 15 15 15h81.710937c30.421875 0 55.167969-24.746094 55.167969-55.164062v-153.695313h7.71875c12.585937 0 24.421875-4.902344 33.332031-13.8125 18.359375-18.367187 18.367187-48.253906.027344-66.632813zm-21.242188 45.421876c-3.238281 3.238281-7.542969 5.023437-12.117187 5.023437h-22.71875c-8.285156 0-15 6.714844-15 15v168.695313c0 13.875-11.289063 25.164062-25.167969 25.164062h-66.710937v-105.5c0-30.417969-24.746094-55.167969-55.167969-55.167969h-48.195313c-30.421875 0-55.171875 24.75-55.171875 55.167969v105.5h-66.710937c-13.875 0-25.167969-11.289062-25.167969-25.164062v-168.695313c0-8.285156-6.714844-15-15-15h-22.328125c-.234375-.015625-.464844-.027344-.703125-.03125-4.46875-.078125-8.660156-1.851563-11.800781-4.996094-6.679688-6.679687-6.679688-17.550781 0-24.234375.003906 0 .003906-.003906.007812-.007812l.011719-.011719 208.847656-208.839844c3.234375-3.238281 7.535157-5.019531 12.113281-5.019531 4.574219 0 8.875 1.78125 12.113282 5.019531l208.800781 208.796875c.03125.03125.066406.0625.097656.09375 6.644531 6.691406 6.632813 17.539063-.03125 24.207032zm0 0\" />\r\n            </svg>\r\n            POČETNA\r\n          </NavLink>\r\n        )}\r\n        {state.userData && (\r\n          <NavLink to=\"/details\" className=\"menu-item\">\r\n            <svg\r\n              viewBox=\"0 0 492.924 492.924\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n            >\r\n              <path d=\"M405.825,0H188.709c-19.016,0.008-34.5,15.49-34.518,34.521v16.297h-16.303c-19.017,0.01-34.5,15.498-34.514,34.521v16.309\tH87.082c-19.029,0.006-34.494,15.482-34.514,34.522l0.02,322.238c-0.02,19.043,15.465,34.525,34.494,34.516h152.538\tc10.65,0,20.871-4.203,28.438-11.696l39.516-39.124h47.415c19.063,0.01,34.546-15.473,34.532-34.512v-16.314h16.303\tc19.048,0.008,34.53-15.477,34.512-34.508l0.019-322.248C440.336,15.482,424.873,0.008,405.825,0z M311.457,391.963h-39.962\tc-4.777,0-9.305,0.967-13.438,2.719c-12.382,5.248-21.079,17.529-21.093,31.811v0.01v0.022l0.014,39.137H87.082\tc-3.98,0-7.243-3.25-7.256-7.252V136.17c0-4,3.275-7.268,7.256-7.268l217.119,0.01c3.998,0,7.255,3.258,7.255,7.242V391.963z\t M362.264,407.592c-0.02,3.99-3.276,7.248-7.274,7.248h-19.497c1.148-1.226,3.24-3.777,3.24-9.225c0-67.361,0-269.445,0-269.445\tc-0.018-19.033-15.5-34.516-34.549-34.522H130.647V85.334c0-3.984,3.244-7.242,7.222-7.242l217.121-0.01\tc3.998,0,7.274,3.268,7.274,7.258V407.592z M413.084,356.77c-0.02,3.992-3.275,7.25-7.26,7.25h-16.303l0.014-278.68\tc-0.014-19.029-15.482-34.512-34.546-34.521H181.467V34.514c0-3.992,3.258-7.242,7.223-7.242l217.135-0.008\tc3.984,0,7.26,3.258,7.26,7.258V356.77z\" />\r\n            </svg>\r\n            5 DANA\r\n          </NavLink>\r\n        )}\r\n        <NavLink to=\"/search\" className=\"menu-item\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512.005 512.005\">\r\n            <path d=\"M505.749,475.587l-145.6-145.6c28.203-34.837,45.184-79.104,45.184-127.317c0-111.744-90.923-202.667-202.667-202.667\t\t\tS0,90.925,0,202.669s90.923,202.667,202.667,202.667c48.213,0,92.48-16.981,127.317-45.184l145.6,145.6\t\t\tc4.16,4.16,9.621,6.251,15.083,6.251s10.923-2.091,15.083-6.251C514.091,497.411,514.091,483.928,505.749,475.587z\t\t\t M202.667,362.669c-88.235,0-160-71.765-160-160s71.765-160,160-160s160,71.765,160,160S290.901,362.669,202.667,362.669z\" />\r\n          </svg>\r\n          TRAŽILICA\r\n        </NavLink>\r\n        {state.userData && (\r\n          <NavLink to=\"/profile\" className=\"menu-item\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\r\n              <path d=\"M437.02,330.98c-27.883-27.882-61.071-48.523-97.281-61.018C378.521,243.251,404,198.548,404,148\t\t\tC404,66.393,337.607,0,256,0S108,66.393,108,148c0,50.548,25.479,95.251,64.262,121.962\t\t\tc-36.21,12.495-69.398,33.136-97.281,61.018C26.629,379.333,0,443.62,0,512h40c0-119.103,96.897-216,216-216s216,96.897,216,216\t\th40C512,443.62,485.371,379.333,437.02,330.98z M256,256c-59.551,0-108-48.448-108-108S196.449,40,256,40\tc59.551,0,108,48.448,108,108S315.551,256,256,256z\" />\r\n            </svg>\r\n            PROFIL\r\n          </NavLink>\r\n        )}\r\n        {!state.userData && (\r\n          <NavLink to=\"/authorisation\" className=\"menu-item\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\r\n              <path d=\"M437.02,330.98c-27.883-27.882-61.071-48.523-97.281-61.018C378.521,243.251,404,198.548,404,148\t\t\tC404,66.393,337.607,0,256,0S108,66.393,108,148c0,50.548,25.479,95.251,64.262,121.962\t\t\tc-36.21,12.495-69.398,33.136-97.281,61.018C26.629,379.333,0,443.62,0,512h40c0-119.103,96.897-216,216-216s216,96.897,216,216\t\th40C512,443.62,485.371,379.333,437.02,330.98z M256,256c-59.551,0-108-48.448-108-108S196.449,40,256,40\tc59.551,0,108,48.448,108,108S315.551,256,256,256z\" />\r\n            </svg>\r\n            PRIJAVA\r\n          </NavLink>\r\n        )}\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default MenuComponent;\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/auth\";\r\n\r\nconst config = firebase.initializeApp({\r\n  apiKey: \"AIzaSyBh2etBvLFs4qsw69fgMOZT0RXHmVxlAac\",\r\n  authDomain: \"weather-4dddd.firebaseapp.com\",\r\n  databaseURL: \"https://weather-4dddd.firebaseio.com\",\r\n  projectId: \"weather-4dddd\",\r\n  storageBucket: \"weather-4dddd.appspot.com\",\r\n  messagingSenderId: \"982882592096\",\r\n  appId: \"1:982882592096:web:8df32e183b0e49a372ea05\",\r\n  measurementId: \"G-9WJPLL0EPF\",\r\n});\r\n\r\nexport const auth = config.auth()\r\nexport default config;\r\n","import React, { useState, useEffect, useContext, useRef } from \"react\";\r\nimport \"./ResultsComponent.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { UserContext } from \"../App\";\r\nimport firebase from \"../firebase\";\r\n\r\nfunction SingleTown() {\r\n  const { state, dispatch } = useContext(UserContext);\r\n  const [city, setCity] = useState({});\r\n  const mounted = useRef(false);\r\n\r\n  const api = {\r\n    key: process.env.REACT_APP_OPENWEATHER_API_KEY,\r\n    base: \"https://api.openweathermap.org/data/2.5/\",\r\n    detailedBase: \"https://api.openweathermap.org/data/2.5/forecast?\",\r\n    search: \"&lang=hr&units=metric\",\r\n    sinSet: \"&units=metric&lang=hr\",\r\n  };\r\n\r\n  useEffect(() => {\r\n    mounted.current = true;\r\n    if (state.selectedCity > -1) {\r\n      fetch(\r\n        `${api.base}weather?q=${state.cities[state.selectedCity].name}${\r\n          api.sinSet\r\n        }&appid=${api.key}`\r\n      )\r\n        .then((response) => response.json())\r\n        .then((result) => {\r\n          result = {\r\n            ...result,\r\n            realId: state.cities[state.selectedCity].id,\r\n          };\r\n          if (mounted.current) {\r\n            setCity(result);\r\n          }\r\n        });\r\n    }\r\n\r\n    return () => {\r\n      mounted.current = false;\r\n    };\r\n  }, [api.base, api.key, api.sinSet, state.selectedCity, state.cities]);\r\n\r\n  const handleRemoveCity = (e) => {\r\n    e.preventDefault();\r\n    const db = firebase.firestore();\r\n    if (state.cities.length === 1) {\r\n      dispatch({ type: \"setSelectedCity\", payload: { index: -1 } });\r\n    }\r\n    db.collection(\"cities\")\r\n      .doc(state.userData.uid)\r\n      .collection(\"userCities\")\r\n      .doc(city.realId)\r\n      .delete();\r\n  };\r\n\r\n  return (\r\n    <div className=\"weather-results\">\r\n      {Object.keys(city).length ? (\r\n        <>\r\n          <div className=\"weather-box\">\r\n            <img\r\n              src={`https://openweathermap.org/img/wn/${city.weather[0].icon}@4x.png`}\r\n              alt={city.name}\r\n              height=\"200px\"\r\n              width=\"200px\"\r\n            />\r\n            <div className=\"weather-box-info\">\r\n              <div className=\"weather\">{city.weather[0].description}</div>\r\n              <div className=\"temp\">{Math.round(city.main.temp)} °C</div>\r\n              <div className=\"real-feel\">\r\n                Dojam: {Math.round(city.main.feels_like)} °C<br></br>\r\n                Vjetar: {Math.round(city.wind.speed * 3.6)} km/h\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"options\">\r\n            {state.userData && (\r\n              <button className=\"unfollow-btn\" onClick={handleRemoveCity}>\r\n                Otprati\r\n              </button>\r\n            )}\r\n            <Link to=\"/details\" className=\"details\">\r\n              5 dana\r\n            </Link>\r\n          </div>\r\n        </>\r\n      ) : (\r\n        <div className=\"loader\">Loading...</div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SingleTown;\r\n","import React, { useContext } from \"react\";\r\n\r\nimport { UserContext } from \"../App\";\r\n\r\nfunction SwitchComponent() {\r\n  const { state, dispatch } = useContext(UserContext);\r\n\r\n  const setSelCity = (index) => {\r\n    dispatch({ type: \"setSelectedCity\", payload: { index } });\r\n  };\r\n\r\n  return (\r\n    <div className=\"city-switch\">\r\n      {state.cities ? (\r\n        state.cities.map((city, index) => (\r\n          <div\r\n            key={city.id}\r\n            onClick={() => setSelCity(index)}\r\n            className={\r\n              index === state.selectedCity\r\n                ? \"city-switch-town-active\"\r\n                : \"city-switch-town\"\r\n            }\r\n          >\r\n            {city.name}\r\n          </div>\r\n        ))\r\n      ) : (\r\n        <div className=\"loader\">Loading...</div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SwitchComponent;\r\n","import React, { useContext } from \"react\";\r\nimport MenuComponent from \"../components/MenuComponent\";\r\nimport SingleTown from \"../components/SingleTown\";\r\nimport SwitchComponent from \"../components/SwitchComponent\";\r\nimport { UserContext } from \"../App\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport \"./StartView.css\";\r\n\r\nfunction StartView() {\r\n  const { state } = useContext(UserContext);\r\n\r\n  return (\r\n    <div className=\"main-container\">\r\n      <div className=\"main-funcs\">\r\n        <MenuComponent />\r\n        <SwitchComponent />\r\n      </div>\r\n      <>\r\n        { state.selectedCity > -1 ? (\r\n          <SingleTown key={state.cities[state.selectedCity]} />\r\n        ) : state.selectedCity > -1 ? (\r\n          <div className=\"loader\">Loading...</div>\r\n        ) : (\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n              alignItems: \"center\",\r\n              paddingTop: \"100px\"\r\n            }}\r\n          >\r\n            <p style={{ color: \"white\", textAlign: \"center\" }}>\r\n              Trenutno ne pratite niti jedan grad :/\r\n            </p>\r\n            <p style={{ color: \"white\", textAlign: \"center\" }}>\r\n              Prvo na tražilicu\r\n            </p>\r\n            <NavLink to=\"/search\">\r\n              <button style={{ margin: \"10px auto\" }}>NA TRAŽILICU</button>\r\n            </NavLink>\r\n          </div>\r\n        )}\r\n      </>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default StartView;\r\n","import React, { useState } from \"react\";\r\nimport \"./SearchComponent.css\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport cities from \"../data/gradovi.json\";\r\n\r\nfunction SearchComponent() {\r\n  let history = useHistory();\r\n  const [hrGradovi] = useState(cities);\r\n  const [gradoviZaSelect, setGradoviZaSelect] = useState([]);\r\n  const [query, setQuery] = useState(\"\");\r\n  const [underlay, setUnderlay] = useState(false);\r\n\r\n  const handleChange = (e) => {\r\n    setQuery(e.target.value.toLowerCase());\r\n    if (e.target.value) {\r\n      setGradoviZaSelect(\r\n        hrGradovi\r\n          .filter((grad) => grad.name.toLowerCase().startsWith(e.target.value))\r\n          .sort((a, b) => a.name.localeCompare(b.name))\r\n      );\r\n      setUnderlay(true);\r\n    } else {\r\n      setGradoviZaSelect([]);\r\n      setUnderlay(false);\r\n    }\r\n  };\r\n\r\n  const toHandleSubmit = (event) => {\r\n    history.push(\"/search/\" + query);\r\n    event.preventDefault();\r\n    setQuery(\"\");\r\n  };\r\n\r\n  const toSelectTown = (city) => {\r\n    setUnderlay(false);\r\n    history.push(\"/search/\" + city);\r\n    setQuery(\"\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"search-container\">\r\n      {underlay && (\r\n        <div\r\n          className=\"underly\"\r\n          onClick={() => {\r\n            setUnderlay(false);\r\n          }}\r\n        ></div>\r\n      )}\r\n      <form onSubmit={toHandleSubmit} className=\"search-box\">\r\n        <input\r\n          type=\"text\"\r\n          className=\"search-bar\"\r\n          placeholder=\"Tražilica...\"\r\n          onChange={handleChange}\r\n          value={query}\r\n          required\r\n        />\r\n\r\n        <button type=\"submit\" className=\"main-btn\">\r\n          Traži\r\n        </button>\r\n\r\n        {underlay && (\r\n          <div className=\"autosuggestion\">\r\n            {gradoviZaSelect.map((grad) => (\r\n              <div\r\n                className=\"autosuggestion-item\"\r\n                key={grad.id}\r\n                onClick={() => toSelectTown(grad.name)}\r\n              >\r\n                {grad.name}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchComponent;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport \"./ResultsComponent.css\";\r\nimport { useParams, useHistory, Link } from \"react-router-dom\";\r\nimport { UserContext } from \"../App\";\r\nimport firebase from \"../firebase\";\r\n\r\nfunction ResultsComponent() {\r\n  const api = {\r\n    base: \"https://api.openweathermap.org/data/2.5/\",\r\n    key: process.env.REACT_APP_OPENWEATHER_API_KEY,\r\n  };\r\n\r\n  const [weather, setWeather] = useState({});\r\n  const { state } = useContext(UserContext);\r\n  let { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    fetch(\r\n      `${api.base}weather?q=${id.trim()}&units=metric&lang=hr&appid=${api.key}`\r\n    )\r\n      .then((response) => response.json())\r\n      .then((result) => {\r\n        setWeather(result);\r\n      });\r\n  }, [id, api.base, api.key]);\r\n\r\n  const saveCityToFirestore = (e) => {\r\n    e.preventDefault();\r\n    const db = firebase.firestore();\r\n    db.collection(\"cities\")\r\n      .doc(state.userData.uid)\r\n      .collection(\"userCities\")\r\n      .add({ name: id });\r\n    history.push(\"/\");\r\n  };\r\n\r\n  let history = useHistory();\r\n\r\n  const followButton = () => {\r\n    let contains = false;\r\n    state.cities.forEach((element) => {\r\n      if (element.name === weather.name) {\r\n        contains = true;\r\n      }\r\n    });\r\n    return contains ? (\r\n      <></>\r\n    ) : (\r\n      <button className=\"follow-city\" onClick={saveCityToFirestore}>\r\n        Prati grad\r\n      </button>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {weather.main && (\r\n        <>\r\n          <div className=\"weather-results\">\r\n            <div className=\"location-box\">\r\n              {weather.name}, {weather.sys.country}\r\n            </div>\r\n            <div className=\"weather-box\">\r\n              <img\r\n                src={`https://openweathermap.org/img/wn/${weather.weather[0].icon}@4x.png`}\r\n                alt=\"slika\"\r\n                width=\"200px\"\r\n                height=\"200px\"\r\n              />\r\n              <div className=\"weather-box-info\">\r\n                <div className=\"weather\">{weather.weather[0].description}</div>\r\n                <div className=\"temp\">{Math.round(weather.main.temp)} °C</div>\r\n                <div className=\"real-feel\">\r\n                  Dojam: {Math.round(weather.main.feels_like)} °C<br></br>\r\n                  Vjetar: {Math.round(weather.wind.speed * 3.6)} km/h<br></br>\r\n                  Maksimalno: {Math.round(weather.main.temp_max)} °C<br></br>\r\n                  Minimalno: {Math.round(weather.main.temp_min)} °C<br></br>\r\n                  Tlak zraka: {Math.round(weather.main.pressure)} hPa<br></br>\r\n                  Vlaga: {Math.round(weather.main.humidity)} %\r\n                </div>\r\n              </div>\r\n            </div>\r\n            {state.userData && followButton()}\r\n          </div>\r\n          <Link to=\"/\" className=\"return-btn\">\r\n            Natrag\r\n          </Link>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ResultsComponent;\r\n","import React from 'react'\r\n\r\nimport SearchComponent from '../components/SearchComponent'\r\nimport ResultsComponent from '../components/ResultsComponent'\r\nimport MenuComponent from '../components/MenuComponent'\r\n\r\nfunction ResultsView() {\r\n  return (\r\n    <div className=\"main-container\">\r\n      <div className=\"main-funcs\">\r\n        <MenuComponent />\r\n        <SearchComponent />\r\n      </div>\r\n      <ResultsComponent />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ResultsView\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport \"./DetailedTown.css\";\r\nimport { UserContext } from \"../App\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction DetailedTown() {\r\n  const [city, setCity] = useState({});\r\n  const dani = [\r\n    \"Nedjelja\",\r\n    \"Ponedjeljak\",\r\n    \"Utorak\",\r\n    \"Srijeda\",\r\n    \"Četvrtak\",\r\n    \"Petak\",\r\n    \"Subota\",\r\n  ];\r\n  const { state } = useContext(UserContext);\r\n\r\n  const api = {\r\n    key: process.env.REACT_APP_OPENWEATHER_API_KEY,\r\n    base: \"https://api.openweathermap.org/data/2.5/\",\r\n    detailedBase: \"https://api.openweathermap.org/data/2.5/forecast?\",\r\n    search: \"&lang=hr&units=metric\",\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (state.selectedCity > -1) {\r\n      fetch(\r\n        `${api.detailedBase}q=${state.cities[state.selectedCity].name}&appid=${\r\n          api.key\r\n        }${api.search}`\r\n      )\r\n        .then((response) => response.json())\r\n        .then((result) => {\r\n          setCity(result);\r\n        });\r\n    }\r\n  }, [api.detailedBase, api.key, api.search, state.cities, state.selectedCity]);\r\n\r\n  let weatherReport = null;\r\n\r\n  if (city.list) {\r\n    weatherReport = city.list.map((hour) => {\r\n      const date = new Date(hour.dt * 1000);\r\n      return (\r\n        <div className=\"details-box\" key={hour.dt}>\r\n          <img\r\n            src={`http://openweathermap.org/img/wn/${hour.weather[0].icon}@2x.png`}\r\n            alt={state.cities[state.selectedCity]}\r\n            title={hour.weather[0].description}\r\n            height=\"100px\"\r\n            width=\"100px\"\r\n          />\r\n          <div className=\"details-box-info\">\r\n            <div className=\"details-weather\">{hour.weather[0].description}</div>\r\n            <div className=\"details-temp\">{Math.round(hour.main.temp)} °C</div>\r\n            <div className=\"details-real-feel\">\r\n              Dojam: {Math.round(hour.main.feels_like)} °C<br></br>\r\n              Vjetar: {Math.round(hour.wind.speed * 3.6)} km/h<br></br>\r\n              {date.getHours()}:00, {date.getDate()}.{date.getMonth() + 1}.\r\n              {date.getFullYear()}.<br></br>\r\n              {dani[date.getDay()]}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"weather-results\">\r\n      {weatherReport ? (\r\n        <>\r\n          {weatherReport}\r\n          <div className=\"options\">\r\n            <Link to=\"/\" className=\"return-btn\">\r\n              Natrag\r\n            </Link>\r\n          </div>\r\n        </>\r\n      ) : (\r\n        <div className=\"loader\">Loading...</div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DetailedTown;\r\n","import React, { useContext } from \"react\";\r\nimport DetailedTown from \"../components/DetailedTown\";\r\nimport MenuComponent from \"../components/MenuComponent\";\r\nimport SwitchComponent from \"../components/SwitchComponent\";\r\nimport { UserContext } from \"../App\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nfunction DetailedView() {\r\n  const { state } = useContext(UserContext);\r\n\r\n  return (\r\n    <div className=\"main-container\">\r\n      <div className=\"main-funcs\">\r\n        <MenuComponent />\r\n        <SwitchComponent />\r\n      </div>\r\n\r\n      <>\r\n        {state.cities.length ? (\r\n          <DetailedTown key={state.cities[state.selectedCity]} />\r\n        ) : state.selectedCity > -1 ? (\r\n          <div className=\"loader\">Loading...</div>\r\n        ) : (\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n              alignItems: \"center\",\r\n              paddingTop: \"100px\",\r\n            }}\r\n          >\r\n            <p style={{ color: \"white\", textAlign: \"center\" }}>\r\n              Trenutno ne pratite niti jedan grad :/\r\n            </p>\r\n            <p style={{ color: \"white\", textAlign: \"center\" }}>\r\n              Prvo na tražilicu\r\n            </p>\r\n            <NavLink to=\"/search\">\r\n              <button style={{ margin: \"10px auto\" }}>NA TRAŽILICU</button>\r\n            </NavLink>\r\n          </div>\r\n        )}\r\n      </>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DetailedView;\r\n","import React, { useContext, useState } from \"react\";\r\nimport \"./AuthView.css\";\r\nimport { auth } from \"../firebase\";\r\nimport MenuComponent from \"../components/MenuComponent\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { UserContext } from \"../App\";\r\n\r\nfunction AuthView() {\r\n  const { state, dispatch } = useContext(UserContext);\r\n\r\n  const [proces, setProces] = useState(\"signin\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const handleSignIn = (e) => {\r\n    e.preventDefault();\r\n    auth.signInWithEmailAndPassword(email, password).then((response) => {\r\n      dispatch({ type: \"userLogin\", payload: { response } });\r\n    });\r\n  };\r\n\r\n  const handleSignUp = (e) => {\r\n    e.preventDefault();\r\n    auth.createUserWithEmailAndPassword(email, password).then((response) => {\r\n      dispatch({ type: \"userSignup\", payload: { response } });\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"main-container\">\r\n      {state.userData && <Redirect to=\"/\" />}\r\n      <div className=\"main-funcs\">\r\n        <MenuComponent />\r\n      </div>\r\n\r\n      <div className=\"form-container\">\r\n        <svg\r\n          id=\"Capa_1\"\r\n          viewBox=\"0 0 512 512\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n        >\r\n          <path d=\"m184.743 95.179c8.284 0 15-6.716 15-15v-30.205c0-8.284-6.716-15-15-15s-15 6.716-15 15v30.205c0 8.284 6.716 15 15 15z\" />\r\n          <path d=\"m48.661 150.086-26.159-15.103c-7.175-4.144-16.349-1.684-20.49 5.49-4.142 7.175-1.684 16.349 5.49 20.49l26.159 15.103c7.158 4.134 16.339 1.701 20.49-5.49 4.142-7.175 1.684-16.349-5.49-20.49z\" />\r\n          <path d=\"m33.661 315.881-26.159 15.102c-7.174 4.142-9.632 13.315-5.49 20.49 4.163 7.21 13.35 9.614 20.49 5.49l26.159-15.103c7.174-4.142 9.632-13.315 5.49-20.49-4.142-7.173-13.314-9.634-20.49-5.489z\" />\r\n          <path d=\"m335.824 176.066 26.159-15.103c7.174-4.142 9.632-13.315 5.49-20.49-4.142-7.174-13.314-9.634-20.49-5.49l-26.159 15.103c-7.174 4.142-9.632 13.315-5.49 20.49 4.163 7.21 13.35 9.614 20.49 5.49z\" />\r\n          <path d=\"m398.906 267.268c-17.171-42.432-58.823-70.488-104.645-70.29-18.777-41.809-60.796-71.005-109.519-71.005-66.168 0-119.999 53.832-119.999 120 0 42.451 22.168 79.809 55.525 101.147-35.567 56.188 4.873 129.853 71.41 129.853 236.012-.246 223.098.604 227.208-.672 52.427-5.913 93.114-50.379 93.114-104.327 0-61.607-52.642-109.441-113.094-104.706zm-304.163-21.294c0-49.626 40.374-90 90-90 33.465 0 62.705 18.37 78.211 45.547-47.399 13.889-80.31 57.162-80.838 106.81-14.9 1.635-28.949 7.202-41.049 16.301-27.605-15.389-46.324-44.874-46.324-78.658zm318.469 200.742c-5.343.434-141.464.182-221.534.258-49.461 0-73.564-61.31-36.763-94.916 11.046-10.087 25.755-15.454 41.783-13.996 9.669.872 17.548-7.493 16.213-17.02-6.954-49.631 31.479-94.068 81.689-94.068 37.144 0 69.882 25.002 79.612 60.801 2.08 7.649 9.753 12.356 17.512 10.755 46.753-9.669 90.276 26.071 90.276 73.444 0 38.756-30.215 71.587-68.788 74.742z\" />\r\n        </svg>\r\n\r\n        <div className=\"form-menu\">\r\n          <button\r\n            className={proces === \"signin\" ? \"form-menu-active\" : \"\"}\r\n            onClick={() => setProces(\"signin\")}\r\n          >\r\n            prijavi se\r\n          </button>\r\n          <button\r\n            className={proces === \"signup\" ? \"form-menu-active\" : \"\"}\r\n            onClick={() => setProces(\"signup\")}\r\n          >\r\n            registriraj se\r\n          </button>\r\n        </div>\r\n\r\n        {proces === \"signin\" ? (\r\n          <form onSubmit={handleSignIn}>\r\n            <div className=\"inputs-container\">\r\n              <input\r\n                type=\"email\"\r\n                name=\"signin-email\"\r\n                id=\"signin-email\"\r\n                required\r\n                placeholder=\"Vaš email...\"\r\n                onChange={(e) => setEmail(e.target.value)}\r\n              />\r\n              <input\r\n                type=\"password\"\r\n                name=\"signin-password\"\r\n                id=\"signin-password\"\r\n                required\r\n                placeholder=\"Vaša lozinka...\"\r\n                onChange={(e) => setPassword(e.target.value)}\r\n              />\r\n            </div>\r\n            <button type=\"submit\" className=\"submit-button\">\r\n              Prijavi se\r\n            </button>\r\n          </form>\r\n        ) : (\r\n          <form onSubmit={handleSignUp}>\r\n            <div className=\"inputs-container\">\r\n              <input\r\n                type=\"email\"\r\n                name=\"signup-email\"\r\n                id=\"signup-email\"\r\n                required\r\n                placeholder=\"Vaš email...\"\r\n                onChange={(e) => setEmail(e.target.value)}\r\n              />\r\n\r\n              <input\r\n                type=\"password\"\r\n                name=\"signup-password\"\r\n                id=\"signup-password\"\r\n                required\r\n                placeholder=\"Vaša lozinka...\"\r\n                onChange={(e) => setPassword(e.target.value)}\r\n              />\r\n            </div>\r\n            <button type=\"submit\" className=\"submit-button\">\r\n              Registriraj se\r\n            </button>\r\n          </form>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AuthView;\r\n","import React from 'react'\r\n\r\nimport MenuComponent from '../components/MenuComponent'\r\nimport SearchComponent from '../components/SearchComponent'\r\n\r\nfunction SearchView() {\r\n\r\n  return (\r\n    <div className=\"main-container\">\r\n      <div className=\"main-funcs\">\r\n        <MenuComponent />\r\n        <SearchComponent />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SearchView\r\n","import React, { useContext } from \"react\";\r\nimport { UserContext } from \"../App\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport MenuComponent from \"../components/MenuComponent\";\r\nimport { auth } from \"../firebase\";\r\n\r\nfunction ProfileView() {\r\n  let history = useHistory();\r\n  const { dispatch } = useContext(UserContext);\r\n\r\n  const toLogout = () => {\r\n    auth.signOut();\r\n    dispatch({ type: \"authorisationLogout\" });\r\n    history.push(\"/search\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"main-container\">\r\n      <div className=\"main-funcs\">\r\n        <MenuComponent />\r\n      </div>\r\n      <button onClick={() => toLogout()} style={{width:\"100px\", height:\"100px\", marginTop:\"150px\"}}>Odjava</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProfileView;\r\n","import firebase from \"../firebase\";\r\n\r\nexport function reducer(state, action) {\r\n  switch (action.type) {\r\n    case \"saveSnapshot\":\r\n      return { ...state, cities: setCities(action.payload.cities, state) };\r\n    case \"setSelectedCity\":\r\n      return {\r\n        ...state,\r\n        selectedCity: action.payload.index > -1 ? action.payload.index : -1,\r\n      };\r\n    case \"saveCity\":\r\n      return { ...state, cities: saveCity(action.payload.cityName, state) };\r\n    case \"userLogin\":\r\n      return {\r\n        ...state,\r\n        userData: action.payload.response.user,\r\n      };\r\n    case \"logUserIn\":\r\n      return {\r\n        ...state,\r\n        userData: action.payload.userData,\r\n      };\r\n    case \"userSignup\":\r\n      return {\r\n        ...state,\r\n        userData: action.payload.response.user,\r\n      };\r\n    case \"authorisationLogout\":\r\n      return { ...state, userData: null, cities: [], selectedCity: {} };\r\n    case \"removeCity\":\r\n      removeCity(action.payload.cityToRemove, state);\r\n      return {\r\n        ...state,\r\n        selectedCity: state.cities.length > 1 ? 0 : -1,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction setCities(cities, state) {\r\n  const citiesData = [];\r\n  if (state.userData) {\r\n    cities.forEach((city) => {\r\n      citiesData.push({ ...city.data(), id: city.id });\r\n    });\r\n  }\r\n  return citiesData;\r\n}\r\n\r\nfunction saveCity(cityName, state) {\r\n  const db = firebase.firestore();\r\n  db.collection(\"cities\")\r\n    .doc(state.userData.uid)\r\n    .collection(\"userCities\")\r\n    .add({ name: cityName, uid: state.userData.uid });\r\n}\r\n\r\nfunction removeCity(id, state) {\r\n  const db = firebase.firestore();\r\n  db.collection(\"cities\")\r\n    .doc(state.userData.uid)\r\n    .collection(\"userCities\")\r\n    .doc(id)\r\n    .delete();\r\n}\r\n","import React, { useEffect, useReducer } from \"react\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport \"./App.css\";\r\n\r\nimport StartView from \"./containers/StartView\";\r\nimport ResultsView from \"./containers/ResultsView\";\r\nimport DetailedView from \"./containers/DetailedView\";\r\nimport AuthView from \"./containers/AuthView\";\r\nimport SearchView from \"./containers/SearchView\";\r\nimport ProfileView from \"./containers/ProfileView\";\r\n\r\nimport firebase from \"./firebase\";\r\nimport { auth } from \"./firebase\";\r\nimport { createContext } from \"react\";\r\nimport { reducer } from \"./context/CityContext\";\r\n\r\nexport const UserContext = createContext();\r\n\r\nfunction App() {\r\n  const [state, dispatch] = useReducer(reducer, {\r\n    cities: [],\r\n    selectedCity: -1,\r\n    userData: null,\r\n  });\r\n\r\n  useEffect(() => {\r\n    const db = firebase.firestore();\r\n\r\n    auth.onAuthStateChanged((user) => {\r\n      if (user) {\r\n        dispatch({ type: \"logUserIn\", payload: { userData: user } });\r\n      }\r\n    });\r\n\r\n    if (state.userData) {\r\n      return db\r\n        .collection(\"cities\")\r\n        .doc(state.userData.uid)\r\n        .collection(\"userCities\")\r\n        .onSnapshot((snapshot) => {\r\n          dispatch({ type: \"saveSnapshot\", payload: { cities: snapshot } });\r\n          let counter = 0;\r\n          snapshot.forEach((city) => {\r\n            counter++;\r\n          });\r\n          counter\r\n            ? dispatch({ type: \"setSelectedCity\", payload: { index: 0 } })\r\n            : dispatch({ type: \"setSelectedCity\", payload: { index: -1 } });\r\n        });\r\n    }\r\n  }, [state.userData]);\r\n\r\n  return (\r\n    <>\r\n      <Router basename={process.env.PUBLIC_URL}>\r\n        <UserContext.Provider value={{ state, dispatch }}>\r\n          {state.userData ? (\r\n            <Switch>\r\n              <Route path=\"/\" exact component={StartView} />\r\n              <Route path=\"/search/:id\" component={ResultsView} />\r\n              <Route path=\"/search\" component={SearchView} />\r\n              <Route path=\"/details\" component={DetailedView} />\r\n              <Route path=\"/authorisation\" component={AuthView} />\r\n              <Route path=\"/profile\" component={ProfileView} />\r\n              <Route path=\"*\" component={StartView} />\r\n            </Switch>\r\n          ) : (\r\n            <Switch>\r\n              <Route path=\"/search/:id\" component={ResultsView} />\r\n              <Route path=\"/search\" component={SearchView} />\r\n              <Route path=\"/authorisation\" component={AuthView} />\r\n              <Route path=\"*\" component={SearchView} />\r\n            </Switch>\r\n          )}\r\n        </UserContext.Provider>\r\n      </Router>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\nserviceWorker.unregister();\n"],"sourceRoot":""}