(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{11:function(e,a,t){e.exports={weatherResults:"SingleTown_weatherResults__1T3WP",locationBox:"SingleTown_locationBox__3a4Bb",weatherBox:"SingleTown_weatherBox__O1TG3",weatherBoxInfo:"SingleTown_weatherBoxInfo__33lkc",temp:"SingleTown_temp__2p3jV",realFeel:"SingleTown_realFeel__1V9hI",weather:"SingleTown_weather__2ckJk",unfollowBtn:"SingleTown_unfollowBtn__3VX_r"}},21:function(e,a,t){e.exports={searchBox:"SearchComponent_searchBox__1ZxWF",searchBar:"SearchComponent_searchBar__VEl_O",mainBtn:"SearchComponent_mainBtn__2q34n"}},27:function(e,a,t){},32:function(e,a,t){e.exports=t(52)},37:function(e,a,t){},52:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),o=t(30),c=t.n(o),l=(t(37),t(27),t(20)),i=t(3),s=t(16),m=t(12),u=t(21),h=t.n(u);var d=function(){var e=Object(i.f)(),a=Object(n.useState)(""),t=Object(m.a)(a,2),o=t[0],c=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:function(a){e.push("/results/"+o),a.preventDefault(),c("")},className:h.a.searchBox,id:"parent"},r.a.createElement("input",{id:"child",type:"text",className:h.a.searchBar,placeholder:"Tra\u017eilica...",onChange:function(e){return c(e.target.value)},value:o,required:!0}),r.a.createElement("button",{type:"submit",className:h.a.mainBtn},"Tra\u017ei")))},p=t(25),f=t.n(p);f.a.initializeApp({apiKey:"AIzaSyBh2etBvLFs4qsw69fgMOZT0RXHmVxlAac",authDomain:"weather-4dddd.firebaseapp.com",databaseURL:"https://weather-4dddd.firebaseio.com",projectId:"weather-4dddd",storageBucket:"weather-4dddd.appspot.com",messagingSenderId:"982882592096",appId:"1:982882592096:web:8df32e183b0e49a372ea05",measurementId:"G-9WJPLL0EPF"});var w=f.a,_=t(11),E=t.n(_);var v=function(e){var a=e.propsCity,t="https://api.openweathermap.org/data/2.5/",o="26f7c14de162ddf380af26c56863bd3a",c=Object(n.useState)({}),l=Object(m.a)(c,2),i=l[0],u=l[1];return Object(n.useEffect)((function(){fetch("".concat(t,"weather?q=").concat(a.name,"&units=metric&lang=hr&appid=").concat(o)).then((function(e){return e.json()})).then((function(e){e=Object(s.a)(Object(s.a)({},e),{},{realId:a.id}),u(e)}))}),[t,a,o]),r.a.createElement(r.a.Fragment,null,i.main?r.a.createElement("div",{className:E.a.weatherResults},r.a.createElement("div",{className:E.a.locationBox},i.name,", ",i.sys.country),r.a.createElement("div",{className:E.a.weatherBox},r.a.createElement("img",{src:"http://openweathermap.org/img/wn/".concat(i.weather[0].icon,"@2x.png"),alt:""}),r.a.createElement("div",{className:E.a.weatherBoxInfo},r.a.createElement("div",{className:E.a.weather},i.weather[0].description),r.a.createElement("div",{className:E.a.temp},Math.round(i.main.temp)," \xb0C"),r.a.createElement("div",{className:E.a.realFeel},"Dojam: ",Math.round(i.main.feels_like)," \xb0C"),r.a.createElement("div",{className:E.a.realFeel},"Vjetar: ",Math.round(3.6*i.wind.speed)," km/h"))),r.a.createElement("button",{onClick:function(){w.firestore().collection("cities").doc(i.realId).delete()},className:E.a.unfollowBtn},"Prestani pratit")):r.a.createElement("h1",null,"Loading..."))};var g=function(){var e=Object(n.useState)([]),a=Object(m.a)(e,2),t=a[0],o=a[1];return Object(n.useEffect)((function(){return w.firestore().collection("cities").onSnapshot((function(e){var a=[];e.forEach((function(e){return a.push(Object(s.a)(Object(s.a)({},e.data()),{},{id:e.id}))})),o(a)}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(d,null),r.a.createElement("div",{style:{color:"white"}},t.map((function(e){return r.a.createElement(v,{propsCity:e,key:e.id})}))))},B=t(7),b=t.n(B);var x=function(){var e="https://api.openweathermap.org/data/2.5/",a="26f7c14de162ddf380af26c56863bd3a",t=Object(n.useState)({}),o=Object(m.a)(t,2),c=o[0],l=o[1],s=Object(i.g)().id;Object(n.useEffect)((function(){fetch("".concat(e,"weather?q=").concat(s.trim(),"&units=metric&lang=hr&appid=").concat(a)).then((function(e){return e.json()})).then((function(e){l(e)}))}),[s,e,a]);var u=Object(i.f)();return r.a.createElement(r.a.Fragment,null,c.main?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:b.a.weatherResults},r.a.createElement("div",{className:b.a.locationBox},c.name,", ",c.sys.country),r.a.createElement("div",{className:b.a.weatherBox},r.a.createElement("img",{src:"http://openweathermap.org/img/wn/".concat(c.weather[0].icon,"@2x.png"),alt:""}),r.a.createElement("div",{className:b.a.weatherBoxInfo},r.a.createElement("div",{className:b.a.weather},c.weather[0].description),r.a.createElement("div",{className:b.a.temp},Math.round(c.main.temp)," \xb0C"),r.a.createElement("div",{className:b.a.realFeel},"Dojam: ",Math.round(c.main.feels_like)," \xb0C"),r.a.createElement("div",{className:b.a.realFeel},"Vjetar: ",Math.round(3.6*c.wind.speed)," km/h"),r.a.createElement("div",{className:b.a.realFeel},"Minimalno: ",Math.round(c.main.temp_min)," \xb0C"),r.a.createElement("div",{className:b.a.realFeel},"Maksimalno: ",Math.round(c.main.temp_max)," \xb0C"),r.a.createElement("div",{className:b.a.realFeel},"Tlak zraka: ",Math.round(c.main.pressure)," hPa"),r.a.createElement("div",{className:b.a.realFeel},"Vlaga: ",Math.round(c.main.humidity)," %"))),r.a.createElement("button",{className:b.a.followCity,onClick:function(e){e.preventDefault(),w.firestore().collection("cities").add({name:s}),u.push("/")}},"Prati grad")),r.a.createElement("button",{className:b.a.returnBtn,onClick:function(){u.push("/")}},"Natrag")):"")};var C=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d,null),r.a.createElement(x,null))};var N=function(){return r.a.createElement("div",{className:"main-container"},r.a.createElement(l.a,{basename:"/weather-app"},r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:g}),r.a.createElement(i.a,{path:"/results/:id",component:C}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,a,t){e.exports={weatherResults:"ResultsComponent_weatherResults__32oH6",locationBox:"ResultsComponent_locationBox__2MlCJ",weatherBox:"ResultsComponent_weatherBox__fX3xQ",weatherBoxInfo:"ResultsComponent_weatherBoxInfo__mMceh",temp:"ResultsComponent_temp__3ErZq",realFeel:"ResultsComponent_realFeel__1UUoA",weather:"ResultsComponent_weather__5LnJo",followCity:"ResultsComponent_followCity__1E5Ei",returnBtn:"ResultsComponent_returnBtn__1P3-W"}}},[[32,1,2]]]);
//# sourceMappingURL=main.6a2cb380.chunk.js.map